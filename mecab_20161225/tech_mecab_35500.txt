Re: 工廠內window作業系統PC based control的即時性 - 看板 Tech_Job - 批踢踢實業坊作者chengcti (版主請投我一票!)看板Tech_Job標題Re: 工廠內window作業系統PC based control的即時性時間Mon Oct  5 11:05:49 2015其實 看 IO 卡像我控制一片 4channel 30路(E1)數據交換一台 PC based 是 4 片 4 channel (PCIE)這樣算起來有 120 channel (4E1 * 4)120 路電話同時進線也都沒問題澳洲來的交換機 裡面就是 MSSQL + Windows Server 20004E1 * 8 = 4*30*8 = 960 門電話還可以熱插拔只要你的 IO 卡可以即時處理, pcbased 沒有什麼問題通常選 pcbased 就是利用他的網路及系統化功能IO卡選好一點就可以解決了剩下系統只要處理 queue 及 multithread 即可哪家公司的 IO 卡是自己做的? 都是現成的裡面都是 FPGA 或者是 DSP沒有不能即時的問題而且現在沒有人用 pcbased 直接控制 IO都還是會有另外一張 interface 處理pc-based &amp; non pcbased 之爭 一直都會出現(PLC &amp; pc-based PLC, CNC-motor control....)不過我知道幾個經典的 pc-based 是用 DOS大型的是 類-linux 現在後期都是 windows 了選 linux or windows 倒不是 real-time 的問題而是這種 24hr 系統是不能允許出現 "請更新" 或者是 "系統需要重啟"以前 windows 系統還不是這麼穩定的時候 (除了 os 問題 有些是程式設計的問題)我就會每隔一段時間 在半夜的時候把機器重開機把裡面可能的 memory leak 的 buffer 清掉題外話, 早期我看過有人用 vb 寫的, 裡面都是 case / select, 然後用 step 切割做 realtime 處理我是用 C 所以很不屑這種用 vb step 切 multithread但是.. VB 的系統還是可以跑個十年都還沒當機但是 C 沒處理好 memory 幾個月就會出現詭異的問題幸好現在有工具可以解決※ 引述《snaken (snaken)》之銘言：: 工業領域，real time簡單來說就是在討論latency &amp; jitter: (請原諒我專有名詞都用英文~): 請注意，"效能"跟real time與否沒有直接關係: 而這些東西都是在OS架構下討論才有意義，: MCU(including PLC) / FPGA / DSP 去討論自己real time與否: 基本上是有點誤用，他們要討論的是自己的"效能" &amp; Buffer: 既然要討論OS，: 大家最熟的M$自己就有real time的產品win embedded: 基本上是個把B2C商業模式拿來做B2B的東西:         "不好意思所有的問題都要自己google喔": 聽說他們的AE比AKB48還要難見得到，: 但是回報bug可以得到粉絲見面會(?)的門票: 至於windows7~10，完!完!全!全!不是real time，: 但是有不少第三方廠家在賣這這東西，只能說這是一塊不小的市場: linux最有名就是OSADL了，雖然所有的問題一樣要自己google: 但反正你也沒有付錢嗎~~根本沒損失: 有機會倒是可以凹凹IC廠，叫他們直接出real time linux的BSP: 國外一樣有很多小公司專門在搞這塊: 八卦就是許多論壇的大大其實根本都是有名的個體戶: 另外有幾家比較有名的都是在我出生之前就在搞micro kernel的OS: 搞real time的技術都不在話下: 有一家前陣子被作手機但做到快要掛點的B買下來....好吧這一點都不八卦: 八卦是作手機的把B打爆的A做的汽車用的OS   (幹，這個構句好複雜有人看得懂嗎): 可能因為怕太潮了會滴水所以用B的OS: (這個應該也很多人知道了): 另一家最近去了拍極地救援，這個八卦我還沒有求證，: 但預告片看了很多次我還是沒有找到在哪: 回到你的問題，啥叫"最real time"這個我真的沒有辦法告訴你: 我相信你自己也不知道自己在問三小: 我最近要benchmark自己要用的東西也都不知道該ben三小了: 但是最近比較夯的領域應該是通訊相關: 大家要做的不外乎:         1.某間(德)被曾經台廠買下來的公司(誤)喊出來的工業4.0骨幹網路:         2.某間(美)找了一堆跟火星人簽過NDA的公司(cisco/intel):           推出可以TCP架構之上做到us等級jitter的工業IOT:         3.某間(德)下定決心把網路線當485來用，:           台廠&amp;大陸廠很開心的說:                 "阿原來是485啊我還以為是網路線呢":                 "如果是485的話，可以歐&gt;////&lt;":           結果下去做發現要改layer 2全部人一起崩潰只好還是買IP core的故事: 以工廠應用來說，分為幾層:         1.Device端/Slave站:         2.Controller/Master:         3.Gateway:         4.謎樣的上層: 基本上，要做device或是master才有可能討論主控OS在non-real time的前提下: 透過外掛卡片 / 硬上patch來讓自己符合通訊規格的可能: 但是只要能通，沒有人會管你是用啥方法，: 就像把妹，把得到就是你的。把不到嘴砲再多都無用啦。: 如果你們做gateway，但是現在才在考慮這問題，: 我只能說貴公司老闆酒量必有過人之處。: \\\\\: 其實這才真的是他媽的高科技產業阿: 但台灣搞這一塊的人好少阿，大家的東西最終都還是要跟國外買: 只好來學obov大大喊一下: GG輪班救台灣 ~ Sieg G 嗡: ※ 引述《SadJoe (Masterless)》之銘言：: : 大家在工廠內有碰過PC based control的即時性問題嗎？據說目前業界最即時的作業系統也不是Linux: : 好想聽聽八卦啊: : 應該要避免使用pc based control在工廠哪些場合呢？--Sent from my USS Nimitz--※ 發信站: 批踢踢實業坊(ptt.cc), 來自: 36.229.110.84※ 文章網址: https://www.ptt.cc/bbs/Tech_Job/M.1444014354.A.291.html推 snaken: 專業上層 先推一個※ 編輯: chengcti (36.229.110.84), 10/05/2015 12:24:00→ Kayusumi: 現在我們用pcbased的走io的話，嚴格來說網路孔也算介面→ Kayusumi: 啦→ pinkowa: 感覺原PO講real time Sys 不是這回事推 snaken: 這位大大處理的是上位網路層的東西，我對於這一塊其實不→ snaken: 很了解，感謝分享。推文自動更新已關閉